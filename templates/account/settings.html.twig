{% extends 'base.html.twig' %}

{% block title %}
    Discussion
{% endblock %}

{% block stylesheets %}
    <style>
        body {
            display: flex;
            height: 100vh;
            width: 100vw;
        }
    </style>
    <link rel="stylesheet" href="{{ asset('repo/css/settings.css') }}">
    <link rel="stylesheet" href="{{ asset('repo/css/discussionSideBar.css') }}">
{% endblock %}

{% block body %}

    <twig:sideBar :discussions="discussions"></twig:sideBar>

    <div class="settings">
    <div class="column">
        <div class="header row">
            <h2 class="f-b">Settings</h2>
        </div>
        <div class="settings__section">
            <div class="section">
                <div class="section__content">
                    <form action="{{ path('account.update') }}" method="post">
                        <div class="row">
                            <twig:labeled_Input name="firstname" label="Firstname" :value="user.firstname" properties="disabled read-only"></twig:labeled_Input>
                            <twig:labeled_Input name="fastname" label="Lastname" :value="user.firstname" properties="disabled read-only"></twig:labeled_Input>
                        </div>
                        <twig:labeled_Input name="email" type="email" label="Email" :value="user.email"></twig:labeled_Input>
                        <div class="row">
                            <twig:labeled_Input name="old_password" type="password"
                                                label="Old password"></twig:labeled_Input>
                            <twig:labeled_Input name="new_password" type="password"
                                                label="New password"></twig:labeled_Input>
                        </div>
                        <button type="submit">Save Changes</button>
                    </form>
                </div>
                <div class="section__label">
                    <h3 class="f-sb">Personal Information</h3>
                </div>
            </div>
            <div class="section">
                <div class="section__content">
                    <form method="post" class="delete" action="{{ path('account.delete') }}">
                        <twig:labeled_Input name="delete_confirmation" type="email"
                                            label="Confirm email"></twig:labeled_Input>
                        <div class="critical">
                            {{ render_inline_svg(asset('repo/icons/critical.svg'))|raw }}
                            <span><span class="focus">Caution:</span> Deleting Your Account Will Instantly And Permanently Delete Your Personal Data</span>
                        </div>
                        <button type="submit">Delete Your Account</button>
                    </form>
                </div>
                <div class="section__label">
                    <h3 class="f-sb">Account</h3>
                </div>
            </div>
        </div>
    </div>
{% endblock %}